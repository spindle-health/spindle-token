<!-- 
THIS MARKDOWN FILE CONTAINS STATICALLY GENERATED HTML GENERATED USING MKDOCSTRING FROM THE carduus SOURCE CODE.
MANUAL EDITS SHOULD NOT BE NECESSARY, HOWEVER THIS FILE CAN BE REGENERATED BY CHECKING OUT THE carduus BRANCH
ON GITHUB AND RUN `poetry run mkdocs build`
-->


<h1 id="functions">Functions</h1>
<p>THe core functionality of carduus is provided by a the following functions that operate over pyspark <code>DataFrame</code>.</p>


<div class="doc doc-object doc-function">


<h2 id="carduus.token.tokenize" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">carduus.token.tokenize</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">tokenize</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">pii_transforms</span><span class="p">,</span> <span class="n">tokens</span><span class="p">,</span> <span class="n">private_key</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Adds encrypted token columns based on PII.</p>
<p>All PII columns found in the <code>DataFrame</code> are normalized using the provided <code>pii_transforms</code>.
All PII attributes provided by the enhancements of the <code>pii_transforms</code> are added if they
are not already present in the <code>DataFrame</code>. The fields of each <a class="autorefs autorefs-internal" title="carduus.token.TokenSpec


  
      dataclass
  " href="#carduus.token.TokenSpec"><code>TokenSpec</code></a>
from <code>tokens</code> are hashed and encrypted together according to the OPPRL specification.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code><span title="pyspark.sql.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pyspark <code>DataFrame</code> containing all PII attributes.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pii_transforms</code>
            </td>
            <td>
                  <code><span title="collections.abc.Mapping">Mapping</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="carduus.token.PiiTransform (carduus.token.pii.PiiTransform)" href="#carduus.token.PiiTransform">PiiTransform</a> | <a class="autorefs autorefs-internal" title="carduus.token.OpprlPii" href="#carduus.token.OpprlPii">OpprlPii</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary that maps column names of <code>df</code> to <a class="autorefs autorefs-internal" title="carduus.token.PiiTransform" href="#carduus.token.PiiTransform">PiiTransform</a>
objects to specify how each raw PII column is normalized and enhanced into derived PII attributes.
Values can also be a member of the <a class="autorefs autorefs-internal" title="carduus.token.OpprlPii" href="#carduus.token.OpprlPii">OpprlPii</a> enum if using the
standard OPPRL tokens.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tokens</code>
            </td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="carduus.token.TokenSpec


  
      dataclass
  " href="#carduus.token.TokenSpec">TokenSpec</a> | <a class="autorefs autorefs-internal" title="carduus.token.OpprlToken" href="#carduus.token.OpprlToken">OpprlToken</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A collection of <a class="autorefs autorefs-internal" title="carduus.token.TokenSpec


  
      dataclass
  " href="#carduus.token.TokenSpec"><code>TokenSpec</code></a> objects that denotes which PII attributes
are encrypted into each token. Elements can also be a member of the <a class="autorefs autorefs-internal" title="carduus.token.OpprlToken" href="#carduus.token.OpprlToken">OpprlToken</a>
enum if using the standard OPPRL tokens.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>private_key</code>
            </td>
            <td>
                  <code><span title="bytes">bytes</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Your private RSA key. This argument should only be set when reading from a secrets manager or testing, otherwise it is
recommended to set the SPINDLE_TOKEN_PRIVATE_KEY environment variable with your private key.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pyspark.sql.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>DataFrame</code> with PII columns replaced by encrypted tokens.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="carduus.token.transcrypt_out" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">carduus.token.transcrypt_out</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">transcrypt_out</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span>
    <span class="n">token_columns</span><span class="p">,</span>
    <span class="n">recipient_public_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">private_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Prepares a <code>DataFrame</code> containing encrypted tokens to be sent to a specific trusted party by re-encrypting
the tokens using the recipient's public key without exposing the original PII.</p>
<p>Output tokens will be unmatchable to any dataset or within the given dataset until the intended recipient
processes the data with <a class="autorefs autorefs-internal" title="carduus.token.transcrypt_in" href="#carduus.token.transcrypt_in"><code>transcrypt_in</code></a>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code><span title="pyspark.sql.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Spark <code>DataFrame</code> with token columns to transcrypt.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>token_columns</code>
            </td>
            <td>
                  <code><span title="collections.abc.Iterable">Iterable</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The collection of column names that correspond to tokens.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>recipient_public_key</code>
            </td>
            <td>
                  <code><span title="bytes">bytes</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The public RSA key of the recipient who will be receiving the dataset with ephemeral tokens. Can also be supplied
the SPINDLE_TOKEN_RECIPIENT_PUBLIC_KEY environment variable.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>private_key</code>
            </td>
            <td>
                  <code><span title="bytes">bytes</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Your private RSA key. This argument should only be set when reading from a secrets manager or testing, otherwise it is
recommended to set the SPINDLE_TOKEN_PRIVATE_KEY environment variable with your private key.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pyspark.sql.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>DataFrame</code> with the original encrypted tokens re-encrypted for sending to the recipient.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="carduus.token.transcrypt_in" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">carduus.token.transcrypt_in</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">transcrypt_in</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">token_columns</span><span class="p">,</span> <span class="n">private_key</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Used by the recipient of a <code>DataFrame</code> containing tokens in the intermediate representation produced by
<a class="autorefs autorefs-internal" title="carduus.token.transcrypt_out" href="#carduus.token.transcrypt_out"><code>transcrypt_out</code></a> to re-encrypt the tokens such that they will match with
other datasets</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code><span title="pyspark.sql.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Spark <code>DataFrame</code> with token columns to transcrypt.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>token_columns</code>
            </td>
            <td>
                  <code><span title="collections.abc.Iterable">Iterable</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The collection of column names that correspond to tokens.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>private_key</code>
            </td>
            <td>
                  <code><span title="bytes">bytes</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Your private RSA key. This argument should only be set when reading from a secrets manager or testing, otherwise it is
recommended to set the SPINDLE_TOKEN_PRIVATE_KEY environment variable with your private key.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pyspark.sql.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>DataFrame</code> with the original encrypted tokens re-encrypted for sending to the destination.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div><p>The <code>TokenSpec</code> class allows for custom tokens, beyond the builtin OPPRL tokens, to be generated during tokenization. See the <a href="../guides/custom-tokens/">custom tokens guide</a> for more information.</p>


<div class="doc doc-object doc-class">



<h2 id="carduus.token.TokenSpec" class="doc doc-heading">
            <code>carduus.token.TokenSpec</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents first">


        <p>An collection of PII fields that will be encrypted together to create a token.</p>
<p>For an enum of standard <code>TokenSpec</code> instances that comply with the Open Privacy Preserving Record Linkage protocol
see <a class="autorefs autorefs-internal" title="carduus.token.OpprlToken" href="#carduus.token.OpprlToken"><code>OpprlToken</code></a>.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="carduus.token.TokenSpec.name">name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column that holds these tokens.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="carduus.token.TokenSpec.fields">fields</span></code></td>
            <td>
                  <code><span title="collections.abc.Iterable">Iterable</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The PII fields to encrypt together to create token values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>









  <div class="doc doc-children">











  </div>

    </div>

</div><h1 id="opprl-implementation">OPPRL Implementation</h1>
<p>Although carduus is designed to be extensible, most users will want to use the tokenization procedure proposed by the <a href="../opprl/">Open Privacy Preserving Record Linkage</a> (OPPRL) protocol. This open specification proposes standard ways of normalizing, enhancing, and encrypting data such that all user across all OPPRL implementations, including carduus, can share data between trusted parties.</p>
<p>The following two <code>enum</code> objects provide <code>PiiTransform</code> instances and <code>TokenSpec</code> instances that comply with OPPRL. These can be passed to the column mapping and token set arguments of <code>tokenize</code> respectively.</p>


<div class="doc doc-object doc-class">



<h2 id="carduus.token.OpprlPii" class="doc doc-heading">
            <code>carduus.token.OpprlPii</code>


</h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        <p>Enum of <a class="autorefs autorefs-internal" title="carduus.token.PiiTransform" href="#carduus.token.PiiTransform">PiiTransform</a> objects for the PII fields supported by the Open Privacy Preserving
Record Linkage specification.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="carduus.token.OpprlPii.first_name">first_name</span></code></td>
            <td>
                  <code><span title="carduus.token.pii.NameTransform">NameTransform</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" title="carduus.token.PiiTransform" href="#carduus.token.PiiTransform">PiiTransform</a> implementation for a subject's first name according to the OPPRL standard.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="carduus.token.OpprlPii.middle_name">middle_name</span></code></td>
            <td>
                  <code><span title="carduus.token.pii.NameTransform">NameTransform</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" title="carduus.token.PiiTransform" href="#carduus.token.PiiTransform">PiiTransform</a> implementation for a subject's middle name according to the OPPRL standard.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="carduus.token.OpprlPii.last_name">last_name</span></code></td>
            <td>
                  <code><span title="carduus.token.pii.NameTransform">NameTransform</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" title="carduus.token.PiiTransform" href="#carduus.token.PiiTransform">PiiTransform</a> implementation for a subject's last (aka family) name according to the OPPRL standard.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="carduus.token.OpprlPii.gender">gender</span></code></td>
            <td>
                  <code><span title="carduus.token.pii.GenderTransform">GenderTransform</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" title="carduus.token.PiiTransform" href="#carduus.token.PiiTransform">PiiTransform</a> implementation for a subject's gender according to the OPPRL standard.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="carduus.token.OpprlPii.birth_date">birth_date</span></code></td>
            <td>
                  <code><span title="carduus.token.pii.DateTransform">DateTransform</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" title="carduus.token.PiiTransform" href="#carduus.token.PiiTransform">PiiTransform</a> implementation for a subject's date of birth according to the OPPRL standard.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>









  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="carduus.token.OpprlToken" class="doc doc-heading">
            <code>carduus.token.OpprlToken</code>


</h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        <p>Enum of <a class="autorefs autorefs-internal" title="carduus.token.TokenSpec


  
      dataclass
  " href="#carduus.token.TokenSpec"><code>TokenSpec</code></a> objects that meet the Open Privacy Preserving
Record Linkage tokenization specification.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="carduus.token.OpprlToken.opprl_token_1">opprl_token_1</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Token #1 from the OPPRL specification. Creates tokens based on <code>first_initial</code>, <code>last_name</code>, <code>gender</code>, and <code>birth_date</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="carduus.token.OpprlToken.opprl_token_2">opprl_token_2</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Token #2 from the OPPRL specification. Creates tokens based on <code>first_soundex</code>, <code>last_soundex</code>, <code>gender</code>, and <code>birth_date</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="carduus.token.OpprlToken.orrpl_token_3">orrpl_token_3</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Token #3 from the OPPRL specification. Creates tokens based on the <code>first_metaphone</code>, <code>last_metaphone</code>, <code>gender</code>, and <code>birth_date</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>









  <div class="doc doc-children">











  </div>

    </div>

</div><h1 id="encryption-key-management">Encryption Key Management</h1>
<p>See the <a href="../guides/getting-started/#encryption-keys">encryption key section</a> of the "Getting started" guide for details about how Carduus accesses encryption keys.</p>


<div class="doc doc-object doc-function">


<h2 id="carduus.keys.generate_pem_keys" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">carduus.keys.generate_pem_keys</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">generate_pem_keys</span><span class="p">(</span><span class="n">key_size</span><span class="o">=</span><span class="mi">2048</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Generates a fresh RSA key pair.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key_size</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The size (in bits) of the key.</p>
              </div>
            </td>
            <td>
                  <code>2048</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="bytes">bytes</span>, <span title="bytes">bytes</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tuple containing the private key and public key bytes. Both in the PEM encoding.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div><h1 id="interfaces">Interfaces</h1>
<p>Carduus offers interfaces that can be extended by the user to add additional behaviors to the tokenization and transcryption processes.</p>
<p>The <code>PiiTransform</code> abstract base class can be extended to add support for custom PII attributes, normalizations, and enhancements. See the <a href="../guides/custom-pii/">custom PII guide</a> for more details.</p>


<div class="doc doc-object doc-class">



<h2 id="carduus.token.PiiTransform" class="doc doc-heading">
            <code>carduus.token.PiiTransform</code>


</h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Abstract base class for normalization and enhancement of a specific PII attribute.</p>
<p>Intended to be extended by users to add support for building tokens from a custom PII attribute.</p>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="carduus.token.PiiTransform.normalize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">normalize</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">dtype</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>A normalized representation of the PII column.</p>
<p>A normalized value has eliminated all representation or encoding differences so all instances of the
same logical values have identical physical values. For example, text attributes will often be normalized
by filtering to alpha-numeric characters and whitespace, standardizing to whitespace to the space character,
and converting all alpha characters to uppercase to ensure that all ways of representing the same phrase
normalize to the exact same string.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>column</code>
            </td>
            <td>
                  <code><span title="pyspark.sql.Column">Column</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The spark <code>Column</code> expression for the PII attribute being normalized.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dtype</code>
            </td>
            <td>
                  <code><span title="pyspark.sql.types.DataType">DataType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The spark <code>DataType</code> object of the <code>column</code> object found on the <code>DataFrame</code> being normalized.
Can be used to delegate to different normalization logic based on different schemas of input data.
For example, a subject's birth date may be a <code>DateType</code>, <code>StringType</code>, or <code>LongType</code> on input data and
thus requires corresponding normalization into a <code>DateType</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pyspark.sql.Column">Column</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The normalized version of the PII attribute.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="carduus.token.PiiTransform.enhancements" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">enhancements</span><span class="p">(</span><span class="n">column</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>A collection of PII attributes that can be automatically derived from a given normalized PII attribute</p>
<p>If an implementation of <a class="autorefs autorefs-internal" title="carduus.token.PiiTransform" href="#carduus.token.PiiTransform">PiiTransform</a> does not override this method, it is
assumed that no enhancements can be derived</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>column</code>
            </td>
            <td>
                  <code><span title="pyspark.sql.Column">Column</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The normalized PII column to produce enhancements from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="return" open>
  <summary>Return</summary>
  <p>A <code>dict</code> with keys that correspond to the PII attributes of the ___ and values that correspond to the <code>Column</code>
expression that produced the new PII from a normalized input attribute.</p>
</details>
    </div>

</div>



  </div>

    </div>

</div>